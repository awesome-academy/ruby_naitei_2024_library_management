<% provide :page_title, t("authors_page.title") %>
<main class="container relative mb-20 mx-auto mt-[84px] px-5">
  <div class="flex w-full py-10 gap-10 relative ">
    <div  class="border-2 flex-1 h-fit sticky top-32">
     <div class="w-full aspect-1 overflow-hidden"> <%= image_tag @author.profile_image.attached? ? @author.profile_image : "default_cover_image.png", alt: "cover", class: "w-full "  %></div>
      <div class="flex justify-between p-4 bg-card  pt-6  items-center ">
        <p class=" font-semibold">
          <%= render_button  as: :link, href: "#", class: "flex gap-x-2 items-center" do %>
            <%= t "authors_page.follow" %>
            <i class="bi bi-bookmark-heart"></i>
          <% end %>
        </p>

      </div>
    </div>
    <div class=" flex-[2] space-y-4 ">
      <div class="border-2 shadow-md p-5 bg-card rounded-lg space-y-2 ">
        <h2 class="font-semibold text-2xl"><%= t "authors_page.details" %></h2>
        <p class="text-lg"><%= t "authors_page.name" %>: <%= @author.name %></p>
        <p class="text-lg"><%= t "authors_page.birth" %>: <%= @author.birth %></p>
        <p class="text-lg"><%= t "authors_page.gender" %>: <%= @author.gender ? t("male") : t("female") %></p>
        <p class="text-lg"><%= t "authors_page.bio" %>: <%= sanitize @author.bio %></p>
        <p class="text-lg"><%= t "authors_page.nationality" %>: <%= @author.nationality %></p>
      </div>
      <div class="border-2 shadow-md p-5 bg-card rounded-lg space-y-2 ">
        <div class="flex justify-between">
          <h2 class="font-semibold text-2xl"><%= t "authors_page.books" %>   (<%= @total_books %>)</h2>
          <%== pagy_nav(@pagy) %>
        </div>
        <div class=" space-y-4 py-4">
          <%= render partial: "books/book", collection: @books %>
        </div>
      </div>
    </div>
  </div>
</main>
